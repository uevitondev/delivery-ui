<nav class="navbar">
  <button class="nav-button menu-toggle" (click)="toggleMenu()">
    <span>
      @if(isMenuOpen){
      <mat-icon>close</mat-icon>
      }@else{
      <mat-icon>menu</mat-icon>
      }
    </span>
  </button>
  <span class="navbar-brand" [routerLink]="['/home']" (click)="isMenuOpen ? toggleMenu() : null">Delivery App</span>

  <div class="spacer"></div>

  <div class="nav-menu" [class.ismenuopen]="isMenuOpen" [class.ismenuclosed]="!isMenuOpen">
    <button class="nav-button" [routerLink]="['/home']" (click)="isMenuOpen ? toggleMenu() : null">Home</button>
    <button class="nav-button" [routerLink]="['/stores']" (click)="isMenuOpen ? toggleMenu() : null">Lojas</button>
    @if(authService.isLogged()) {
    <button class="nav-button" [routerLink]="['/orders']"  (click)="isMenuOpen ? toggleMenu() : null">Meus
      Pedidos</button>
    <button class="nav-button" [routerLink]="['/user/account']"  (click)="isMenuOpen ? toggleMenu() : null">
      <span class="nav-button-wrapper">
        <mat-icon>account_circle</mat-icon>
        {{ authService.getAuthName() }}
      </span>
    </button>
    } @else {
    <button class="nav-button" [routerLink]="['/auth/signin']" (click)="isMenuOpen ? toggleMenu() : null">Login</button>
    <button class="nav-button" [routerLink]="['/auth/signup']"  (click)="isMenuOpen ? toggleMenu() : null">Criar
      Conta</button>
    }
  </div>

  <button class="nav-button" (click)="toggleTheme()">
    <span class="nav-button-wrapper">
      <mat-icon>{{icon}}</mat-icon>
    </span>
  </button>

  <button class="nav-button" [routerLink]="['/cart']">
    <div class=" nav-button-wrapper cart-count">
      <mat-icon>shopping_cart</mat-icon>
      <p class="count">{{cartService.cartCount()}}</p>
    </div>
  </button>

</nav>